<h2>LabLua in Google Summer of Code 2024</h2>

<p>We were very happy to participate again in Google Summer of Code (GSoC)!
This is the 9th time we had the opportunity to collaborate with students from all around the world on interesting projects.
These are the highlights from the 2024 edition.

<ul>
    <li><a href="#luasql">Adapt LuaSQL drivers to Lua 5.4</a>
    <li><a href="#pallene">Improved debugging support for Pallene</a>
    <li><a href="#lunatik">Lunatik binding for Netfilter</a>
    <li><a href="#luarocks">Port LuaRocks to Teal</a>
</ul>


<br> <br>
<h2 id="luasql">Adapt LuaSQL drivers to Lua 5.4</h2>
<img class="photo-right" src="/images/gsoc2024/chaitanya.jpg" alt="A picture of Chaitanya"/>
<p><a href="https://github.com/lunarmodules/luasql">LuaSQL</a> is a library that bridges Lua with various database management systems (DBMS), providing a consistent API for interacting with databases such as MySQL, PostgreSQL, SQLite, and others. With the release of Lua 5.4, the LuaSQL drivers required updates to maintain compatibility and take advantage of the new features introduced in this version. The project involved several key tasks:

<ul>
    <li>Resolved Incompatibilities: Updated the API by replacing lua_newuserdata with lua_newuserdatauv, ensuring seamless compatibility with Lua 5.4.
    <li>Introduced LUASQL_NEWUD Macro: Developed a macro to abstract version-specific differences in userdata creation, making the codebase more adaptable to different Lua versions.
    <li>To-Be-Closed Variables: Added support for Lua 5.4's to-be-closed variables by incorporating the __close metamethod for environment, connection, and cursor objects, ensuring proper resource management.
    <li>Resource Cleanup: Standardized cleanup methods across all drivers, and improved error handling.
    <li>Expanded Test Suite: Enhanced the test suite to thoroughly verify the implementation of these updates, particularly the to-be-closed support.
</ul>

<p>In conclusion, the LuaSQL drivers have been successfully updated to be fully compatible with Lua 5.4, incorporating new features and enhancements that improve performance, resource management, and maintainability, ensuring a smooth transition for users to the latest Lua version. An updated version of LuaSQL, incorporating all the mentioned updates, will soon be released.

<h3>The Code</h3>
<p>The results of this GSOC are summarized in this
<a href="https://gist.github.com/ChaitanyaD48/da0802dcbbaa4c7c89225c35f4fb8ada">page</a>.
It includes a link to code repository, as well as a list of the pull requests implemented by Chaitanya.
Latest version of LuaSQL can be found on LuaRocks, with its updated documentation.

<h3>The Student</h3>
<p><a href="https://github.com/ChaitanyaD48/">Chaitanya Deshmukh</a>
is an undergraduate student pursuing a degree in Electronics and Communication Engineering from India. He has a keen interest in software development, cloud native technologies, and database management. He is enthusiastic about building innovative solutions and staying updated with the latest trends in the tech industry.

<h3>Mentors</h3>
Tom√°s Guisasola


<br> <br>
<h2 id="pallene">Improved debugging support for Pallene</h2>
<img class="photo-right" src="/images/gsoc2024/asif.jpg" alt="A picture of Asif"/>
<p><a href="https://github.com/pallene-lang/pallene">Pallene</a> is type
inferred, ahead-of-time compiled companion language to Lua designed for performance.
This is a space currently filled by LuaJIT and Lua C modules.
Pallenes syntax is similar to Lua's allowing users to write
high-performance code swiftly.</p>

<p>Pallene's debugging experience was hampered by how Lua stack traces
display C stack frames, because Pallene compiles down to C. The Lua
call stack does not store the line numbers for Lua-to-C calls and does
not show C-to-C calls. To address the problem not only for Pallene
but also for Lua C modules in general, we created a new library, <a
href="https://github.com/pallene-lang/pallene-tracer">Pallene Tracer</a>.
It provides mechanisms to enable function tracebacks, generating a proper
stack-trace for all the C call-frames and their respective line numbers,
without modifying the Lua virtual machine. Hence, over the summer time we
worked on Pallene Tracer, its adoption in Pallene and finally its adoption
into Lua C modules. You can learn more about this journey in <a
href="https://singul4ri7y.github.io/gsoc2024">Asif's blog</a>.</p>

<h3>The Code</h3>
<p>For this project we created a <a href="https://github.com/pallene-lang/pallene-tracer">Github repository for pallene-tracer</a>.
We also created pull requests code to
<a href="https://github.com/pallene-lang/pallene/pulls?q=is%3Apr+is%3Aclosed+author%3Asingul4ri7y+created%3A%3E2024-05-27+merged%3A%3C2024-08-20">integrate Pallene with Pallene Tracer</a>.


<h3>The Student</h3>
<a href="https://www.linkedin.com/in/singul4ri7y/">Syed Naimul Hasan Asif</a>
(alias SD Asif Hossein) is an Electrical Engineering undergrad student from
Bangladesh. He is passionate about low-level programming, programming languages,
operating systems, deep learning and high-performance computing.

<h3>Mentors</h3>
Hugo Gualandi, Srijan Paul, Gabriel Ligneul


<br> <br>
<h2 id="lunatik">Lunatik binding for Netfilter</h2>
<img class="photo-right" src="/images/gsoc2024/sheharyaar.jpg" alt="A picture of Shehar"/>
<p><a href="https://github.com/luainkernel/lunatik">Lunatik</a> is a framework
for scripting the Linux kernel with Lua.
It is composed by the Lua interpreter modified to run in the kernel;
a device driver (written in Lua =)) and a command line tool
to load and run scripts and manage runtime environments from the user space;
a C API to load and run scripts and manage runtime environments from the kernel;
and Lua APIs for binding kernel facilities to Lua scripts.

<p>The goal of this project was to enable lunatik users to write netfilter kernel modules,
xtables (legacy) kernel and corresponding userspace extensions entirely in Lua.

<h3>The Code</h3>
<p>The code is already merged in the <a href="https://github.com/luainkernel/lunatik">Lunatik</a> repository and
a report containing Shehar's contributions can be found <a href="https://github.com/sheharyaar/google-summer-of-code-2024">here</a>.

<h3>The Student</h3>
<p><a href="https://github.com/sheharyaar">Mohammad Shehar Yaar Tausif</a>
is a final year under-graduate student at Indian Institute of Technology (IIT), Kharagpur in India.
He is an open-source enthusiast with contributions in multiple open-source projects.
Shehar loves working on low-level stuff and is currently exploring Linux Kernel,
Networking and Distributed Systems.

<h3>Mentors</h3>
Lourival Vieira Neto, Marcel Moura


<h2 id="luarocks">Port LuaRocks to Teal</h2>
<img class="photo-right" src="/images/gsoc2024/victor.jpeg" alt="A picture of Victor"/>
<p><a href="https://github.com/luarocks/luarocks">LuaRocks</a>
is a package manager for the Lua programming language.
It allows developers to install, manage, and distribute Lua packages,
which are collections of Lua modules that provide specific functionality.
Our project converted the LuaRocks codebase from Lua to
<a href="https://github.com/teal-language/tl">Teal</a>, a statically typed dialect of Lua,
to make the whole repository easier to read, understand, and improve.</p>

<p>The experience of working on a project with LabLua was amazing and
my mentor made it truly one of a kind.
I will never forget, not only the things I learned about Lua and Teal,
but also all the general tips I received about writing proper code, testing and deploying it, etc.
that I will for sure use in the future.
I would recommend this experience to everyone considering to apply!</p>

<h3>The Code</h3>
The code can be found in the
<a href="https://github.com/luarocks/luarocks/pull/1705">pull request</a>
and maybe already in the master branch by the time you are reading this!

<h3>The Student</h3>
<a href="https://github.com/V1K1NGbg">Victor Ilchev</a>
is a second year Computer Science student at TU Delft, born and raised in Bulgaria.

<h3>Mentors</h3>
<a href="https://hisham.hm/">Hisham Muhammad</a>
